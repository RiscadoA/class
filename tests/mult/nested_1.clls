proc main() {
	cut {
		println("send x");
		send x(z.
			println("recv z");
			recv z(w);
			println("wait w");
			wait w;
			println("close z");
			close z
		);
		println("wait x");
		wait x;
		println("end");
		()
		|x: recv send close; wait; close|
		println("recv x");
		recv x(y);
		println("send y");
		send y(t. println("close t"); close t);
		println("wait y");
		wait y;
		println("close x");
		close x
	}
};;
