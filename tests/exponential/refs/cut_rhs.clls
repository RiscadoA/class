proc main() {
    cut {
        !a(b: close); close b
        |a: ?wait|
        ?a;
        cut {
            wait x; ()
            |x: close|
            call a(y); wait y;
            close x
        }
    }
};;
