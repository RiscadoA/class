proc main() {
    cut {
        println("sendty"); sendty x(lint);
        println("lhs send"); send x(y. println("let y"); let y 7);
        println("lhs recv"); recv x(y);
        println("lhs wait"); wait x;
        println(y); ()
        |x: recvty T; recv ~T; send T; close|
        println("recvty"); recvty x(U);
        println("rhs recv"); recv x(y);
        println("rhs send"); send x(z.
            println("fwd"); fwd y z
        );
        println("rhs close"); close x
    }
};;
