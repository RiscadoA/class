proc main() {
    cut {
        println("before affine"); affine x; println("affine");
        println("close"); close x
        |x: ~affine close|
        println("discard"); discard x
    }
};;