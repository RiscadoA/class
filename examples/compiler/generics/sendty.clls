proc main() {
    cut {
        sendty x(wait);
        send x(y. wait y; ());
        close x
        |x: recvty T; recv ~T; T|
        recvty x(T);
        recv x(y);
        fwd x y
    }
};;
