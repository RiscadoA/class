proc main() {
    cut {
        !a(t:wait); wait t; println("!a called");()
        |a: ?close|
        ?a;
        cut {
            !b(u:wait);
            call a(x:close);
            fwd u x
            |b: ?close|
            ?b;
            call b(y:close);
            call b(z:close);
            par { close y || close z }
        }
    }
};;
